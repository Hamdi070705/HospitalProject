@extends('layouts.doctor.layout')

@section('content')
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-white rounded-lg shadow-xl overflow-hidden">
            <div class="flex bg-primary item-center to-indigo-600 px-6 py-4">
                <svg width="40" height="40" viewBox="0 0 126 126" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M56.5563 1.46664C50.3773 2.22768 43.9059 3.95513 39.3094 6.03539C33.5991 8.67132 28.5629 13.2388 26.2495 17.9537C23.8782 22.7858 23.9362 22.2881 23.819 39.0083L23.7308 53.8549L21.8269 54.7331C18.4879 56.2842 15.8823 59.593 14.8276 63.5758C14.272 65.5969 14.272 69.6956 14.8276 71.7167C16.0864 76.4896 20.0982 80.6778 24.0811 81.2927C25.0185 81.4388 25.1937 81.6152 25.9257 83.3137C27.8586 87.7653 31.7242 93.6797 36.2628 99.0675L38.6933 101.996V112.89C38.6933 123.081 38.7223 123.813 39.22 124.251C39.7769 124.778 40.9474 124.895 41.5044 124.514C42.3826 123.929 42.4998 122.904 42.4998 114.646V106.271L46.5116 109.96C48.7368 112.01 51.665 114.528 53.0422 115.553L55.5307 117.428H62.9974H70.4642L72.8065 115.672C74.0653 114.734 76.9935 112.217 79.3069 110.108L83.4939 106.272V114.647C83.4939 122.905 83.611 123.93 84.4893 124.516C85.0751 124.925 86.3339 124.75 86.8026 124.223C87.2424 123.726 87.3003 122.525 87.3003 112.832V101.997L89.7309 99.0688C94.2694 93.681 98.135 87.7653 100.068 83.315C100.8 81.6165 100.976 81.4401 101.913 81.2939C105.836 80.6791 109.936 76.4328 111.195 71.631C111.722 69.6982 111.722 65.5691 111.166 63.5783C110.142 59.6547 107.477 56.2867 104.167 54.7344L102.263 53.8562L102.175 39.0096C102.057 24.6317 102.028 24.1038 101.414 22.0261C98.222 11.5429 88.646 4.74894 73.2438 2.05506C69.0895 1.32048 60.2456 1.0269 56.5563 1.46664ZM73.4227 5.83002C87.478 8.49492 95.7952 14.7029 98.0494 24.2197C98.5471 26.3277 98.576 28.3198 98.576 51.5403V76.5778L97.786 78.9201C95.6188 85.2743 90.2021 93.2387 82.2074 101.908C78.8104 105.597 73.7742 110.312 71.1093 112.332L69.3819 113.62H62.9987H56.6155L55.0632 112.449C52.135 110.253 46.9513 105.362 43.4082 101.497C35.3845 92.6831 30.5524 85.5956 28.3852 79.3586L27.4188 76.5765V51.2467V25.9182L28.0929 23.5759C30.817 14.2052 39.0738 8.23158 52.6024 5.86026C57.3173 5.04 57.3463 5.03999 64.0231 5.1282C68.767 5.1849 70.9039 5.3613 73.4227 5.83002ZM23.8467 77.2506C23.7295 77.5139 21.8849 76.3132 20.9475 75.3467C16.5841 71.0123 17.3161 61.9643 22.2944 58.8017L23.6124 57.9524L23.7585 67.5574C23.8467 72.8293 23.8757 77.1926 23.8467 77.2506ZM103.819 58.8319C106.338 60.5884 107.86 63.7812 107.889 67.4995C107.918 70.2815 107.332 72.2434 105.898 74.2631C105.049 75.4349 102.852 77.3086 102.267 77.3086C102.178 77.3086 102.12 72.9742 102.178 67.6456C102.207 62.3448 102.325 57.9827 102.413 57.9827C102.501 57.9827 103.116 58.3632 103.819 58.8319Z" fill="#FFB800"/>
                    <path d="M58.8103 18.275C56.9367 18.9781 55.4424 20.1197 54.5931 21.5838C53.89 22.8136 53.7729 23.2823 53.7729 25.3323C53.7729 28.3487 54.0954 28.9044 57.9019 32.7991L60.8881 35.8735L57.6083 39.2414C55.15 41.7892 54.2428 42.9017 53.9782 43.8089C52.4259 49.0795 56.4088 54.0578 61.7386 53.5021C63.9058 53.2678 65.2817 52.3895 68.5325 49.0808L71.3146 46.2987L74.389 49.2849C78.1375 52.9162 79.1039 53.4429 81.886 53.4429C84.3165 53.4139 85.7806 52.7701 87.3619 51.0124C88.6497 49.6062 89.1776 48.0841 89.1776 45.9761C89.1486 43.6628 88.2994 42.1987 84.8734 38.7437L81.9162 35.7273L85.167 32.4475C88.6812 28.8162 89.1789 27.909 89.1789 25.1559C89.1209 19.9433 83.3514 16.312 78.7246 18.6253C78.2269 18.8886 76.3823 20.4989 74.6548 22.1974L71.5212 25.3008L68.3586 22.2264C66.6312 20.5279 64.6983 18.9176 64.0834 18.6241C62.5588 17.9235 60.1863 17.7483 58.8103 18.275ZM62.647 22.0815C64.023 22.8136 85.1947 44.2777 85.4001 45.1861C85.957 47.4415 84.2296 49.7839 82.0032 49.7839C81.3593 49.7839 80.4811 49.6087 80.0413 49.3744C79.6016 49.14 74.36 44.0446 68.3863 38.0129C56.7024 26.271 56.7616 26.3579 57.5226 24.1038C58.1665 22.0815 60.7432 21.0861 62.647 22.0815ZM84.4324 22.7556C85.516 23.8392 85.8084 25.5667 85.1645 26.8254C84.9012 27.2941 83.466 28.9044 81.9729 30.3975L79.2501 33.0914L76.6141 30.4555L73.9795 27.8208L76.1757 25.5956C79.5726 22.1407 80.4219 21.5838 82.1203 21.7589C83.2027 21.8471 83.7596 22.0815 84.4324 22.7556ZM65.6043 46.7082L62.5009 49.7826H61.0078C59.1631 49.7826 57.9044 48.8452 57.4357 47.1467C56.967 45.4482 57.6121 44.2777 60.7155 41.0848L63.4093 38.3317L66.0742 40.9966L68.7076 43.6338L65.6043 46.7082Z" fill="#FFB800"/>
                    </svg>
                <h3 class="text-xl font-bold text-white mt-2">
                    Daftar Pasien
                </h3>
            </div>

            <div class="p-6">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead>
                            <tr class="bg-gray-50">
                                <th class="px-6 py-3 text-left text-xs font-medium text-txt uppercase tracking-wider">
                                    Nama Pasien
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-txt uppercase tracking-wider">
                                    Tanggal Pemeriksaan
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-txt uppercase tracking-wider">
                                    Diagnosis
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-txt uppercase tracking-wider">
                                    Tindakan
                                </th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            @forelse($recentPatients as $patient)
                                <tr class="hover:bg-gray-50 transition-colors duration-200">
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="ml-4">
                                                <div class="text-sm font-medium text-gray-900">
                                                    {{ $patient->user->name }}
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 py-1 text-sm text-blue-600 bg-blue-100 rounded-full">
                                            {{ $patient->updated_at->format('d/m/Y') }}
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 py-1 text-sm text-green-600 bg-green-100 rounded-full">
                                            {{ $patient->diagnosis->diagnosis_code }}
                                        </span>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="text-sm text-gray-900 max-w-xs overflow-hidden">
                                            {{ $patient->diagnosis->tindakan_medis }}
                                        </div>
                                    </td>
                                </tr>
                            @empty
                                <tr>
                                    <td colspan="4" class="px-6 py-4 text-center text-gray-500 italic">
                                        Belum ada data pasien
                                    </td>
                                </tr>
                            @endforelse
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    </div>

    <style>
        .table-responsive {
            scrollbar-width: thin;
            scrollbar-color: #e5e7eb transparent;
        }

        .table-responsive::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        .table-responsive::-webkit-scrollbar-track {
            background: transparent;
        }

        .table-responsive::-webkit-scrollbar-thumb {
            background-color: #e5e7eb;
            border-radius: 3px;
        }

        .table-responsive::-webkit-scrollbar-thumb:hover {
            background-color: #d1d5db;
        }
    </style>
@endsection